{"ast":null,"code":"import _objectSpread from\"/root/southcoastwebmain/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from\"react\";import\"./Footer.css\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faSearch,faCalendarDay,faCalendarCheck,faUsers,faGlobe,faBed}from\"@fortawesome/free-solid-svg-icons\";import{Link}from\"react-router-dom\";import{v4 as uuidv4}from\"uuid\";import{jwtDecode}from\"jwt-decode\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BookingSearch(_ref){let{onLoginClick}=_ref;const[nationalities,setNationalities]=useState([]);const[roomTypes,setRoomTypes]=useState([]);const[user,setUser]=useState(null);// Get today's date in YYYY-MM-DD format\nconst getTodayDate=()=>{return new Date().toISOString().split('T')[0];};// Get tomorrow's date in YYYY-MM-DD format\nconst getTomorrowDate=()=>{const tomorrow=new Date();tomorrow.setDate(tomorrow.getDate()+1);return tomorrow.toISOString().split('T')[0];};const[selectedNationality,setSelectedNationality]=useState(\"\");const[selectedRoomType,setSelectedRoomType]=useState(\"\");const[checkIn,setCheckIn]=useState(getTodayDate());const[checkOut,setCheckOut]=useState(getTomorrowDate());const[guests,setGuests]=useState({adults:\"1\",children:\"0\"});const[errors,setErrors]=useState({});const[loading,setLoading]=useState({formButton:false,heroButton:false});const[showLoginAlert,setShowLoginAlert]=useState(false);const[bookingSuccess,setBookingSuccess]=useState(false);// Enhanced user initialization with polling for popup login\nconst checkUserAuth=()=>{const storedUser=JSON.parse(localStorage.getItem(\"user\")||\"{}\");if(storedUser!==null&&storedUser!==void 0&&storedUser.token){try{const decoded=jwtDecode(storedUser.token);if(decoded.exp*1000>Date.now()){setUser({id:decoded.user_id,token:storedUser.token});return true;}else{localStorage.removeItem(\"user\");setUser(null);return false;}}catch(err){console.error(\"Failed to decode token:\",err);setUser(null);return false;}}else{setUser(null);return false;}};// Initialize user on mount\nuseEffect(()=>{checkUserAuth();},[]);// Enhanced storage event listener\nuseEffect(()=>{const handleStorageChange=e=>{if(e.key===\"user\"){checkUserAuth();}};const handleUserLogin=()=>{checkUserAuth();};window.addEventListener(\"storage\",handleStorageChange);window.addEventListener(\"userLoggedIn\",handleUserLogin);return()=>{window.removeEventListener(\"storage\",handleStorageChange);window.removeEventListener(\"userLoggedIn\",handleUserLogin);};},[]);// Fetch nationalities and room types\nuseEffect(()=>{const fetchData=async()=>{try{const[natRes,roomRes]=await Promise.all([fetch(\"http://127.0.0.1:3000/api/v1/nationalities\"),fetch(\"http://127.0.0.1:3000/api/v1/room_types\")]);if(!natRes.ok)throw new Error(\"Failed to fetch nationalities\");if(!roomRes.ok)throw new Error(\"Failed to fetch room types\");const natData=await natRes.json();const roomData=await roomRes.json();setNationalities(natData.map(item=>{var _item$id;return _objectSpread(_objectSpread({},item),{},{__key:(_item$id=item.id)!==null&&_item$id!==void 0?_item$id:uuidv4()});}));setRoomTypes(roomData.map(item=>{var _item$id2;return _objectSpread(_objectSpread({},item),{},{__key:(_item$id2=item.id)!==null&&_item$id2!==void 0?_item$id2:uuidv4()});}));}catch(err){console.error(err);setNationalities([]);setRoomTypes([]);}};fetchData();},[]);const validateForm=()=>{const newErrors={};const today=getTodayDate();if(!selectedNationality)newErrors.selectedNationality=\"Nationality is required\";if(!selectedRoomType)newErrors.selectedRoomType=\"Room type is required\";if(!checkIn)newErrors.checkIn=\"Check-in date is required\";if(!checkOut)newErrors.checkOut=\"Check-out date is required\";const adults=parseInt(guests.adults,10);const children=parseInt(guests.children,10);const totalGuests=adults+children;// Updated validation for adults (max 2)\nif(!guests.adults||isNaN(adults)||adults<1||adults>2){newErrors.adults=\"Adults must be between 1 and 2\";}// Updated validation for children (max 3)\nif(!guests.children||isNaN(children)||children<0||children>3){newErrors.children=\"Children must be between 0 and 3\";}// Updated total guests validation (max 5: 2 adults + 3 children)\nif(totalGuests<1||totalGuests>5){newErrors.guests=\"Total guests must be between 1 and 5\";}if(checkIn&&checkOut){const checkInDate=new Date(checkIn);const checkOutDate=new Date(checkOut);const todayDate=new Date(today);if(checkInDate<todayDate){newErrors.checkIn=\"Check-in date cannot be in the past\";}if(checkOutDate<todayDate){newErrors.checkOut=\"Check-out date cannot be in the past\";}if(checkOutDate<=checkInDate){newErrors.checkOut=\"Check-out date must be after check-in date\";}const stayDuration=(checkOutDate-checkInDate)/(1000*60*60*24);if(stayDuration>30){newErrors.checkOut=\"Maximum stay duration is 30 days\";}}setErrors(newErrors);return Object.keys(newErrors).length===0;};const executeBooking=async(token,userId,buttonType)=>{if(!validateForm()){alert(\"Please fix the form errors before submitting.\");return;}setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{[buttonType]:true}));setBookingSuccess(false);try{const bookingData={booking:{nationality:selectedNationality,room_type:selectedRoomType,check_in:checkIn,check_out:checkOut,adults:parseInt(guests.adults,10),children:parseInt(guests.children,10)}};const response=await fetch(\"http://127.0.0.1:3000/api/v1/bookings\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify(bookingData)});const result=await response.json();if(response.ok){setBookingSuccess(true);setSelectedNationality(\"\");setSelectedRoomType(\"\");setCheckIn(getTodayDate());setCheckOut(getTomorrowDate());setGuests({adults:\"1\",children:\"0\"});setErrors({});setTimeout(()=>{setBookingSuccess(false);},5000);}else{var _result$errors;console.error(\"Booking error:\",result);alert(\"Booking failed: \".concat(result.error||((_result$errors=result.errors)===null||_result$errors===void 0?void 0:_result$errors.join(\", \"))||\"Unknown error\"));}}catch(err){console.error(\"Booking error:\",err);alert(\"Booking failed due to network error. Please try again.\");}finally{setLoading(prev=>_objectSpread(_objectSpread({},prev),{},{[buttonType]:false}));}};// Handle check-in date change\nconst handleCheckInChange=e=>{const newCheckIn=e.target.value;let newCheckOut=checkOut;if(newCheckIn&&checkOut&&newCheckIn>=checkOut){const nextDay=new Date(newCheckIn);nextDay.setDate(nextDay.getDate()+1);newCheckOut=nextDay.toISOString().split('T')[0];}setCheckIn(newCheckIn);setCheckOut(newCheckOut);setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{checkIn:\"\",checkOut:\"\"}));};// Handle check-out date change\nconst handleCheckOutChange=e=>{const newCheckOut=e.target.value;setCheckOut(newCheckOut);setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{checkOut:\"\"}));};// Handle guest input changes with restrictions\nconst handleGuestChange=(type,value)=>{const numericValue=value.replace(/\\D/g,'');// Apply restrictions based on guest type\nlet restrictedValue=numericValue;if(type===\"adults\"&&numericValue!==\"\"){const adultCount=parseInt(numericValue,10);if(adultCount>2){restrictedValue=\"2\";}}else if(type===\"children\"&&numericValue!==\"\"){const childCount=parseInt(numericValue,10);if(childCount>3){restrictedValue=\"3\";}}setGuests(prev=>_objectSpread(_objectSpread({},prev),{},{[type]:restrictedValue}));setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[type]:\"\",guests:\"\"}));};// Enhanced booking handler with login alert\nconst handleFormBooking=()=>{if(!user){setShowLoginAlert(true);return;}executeBooking(user.token,user.id,'formButton');};const handleHeroBooking=()=>{if(!user){setShowLoginAlert(true);return;}executeBooking(user.token,user.id,'heroButton');};// Auto-hide login alert after 5 seconds\nuseEffect(()=>{if(showLoginAlert){const timer=setTimeout(()=>{setShowLoginAlert(false);},5000);return()=>clearTimeout(timer);}},[showLoginAlert]);const getInputClass=field=>errors[field]?\"w-full border-2 border-red-400 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors bg-white/90\":\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-colors bg-white/90\";return/*#__PURE__*/_jsxs(\"div\",{className:\"my-background py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-5 gap-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faGlobe,className:\"text-cyan-600 text-sm\"}),\"Guest Nationality\"]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedNationality,onChange:e=>{setSelectedNationality(e.target.value);setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{selectedNationality:\"\"}));},className:getInputClass(\"selectedNationality\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Nationality\"}),nationalities.map(nat=>/*#__PURE__*/_jsx(\"option\",{value:nat.name,children:nat.name},nat.__key))]}),errors.selectedNationality&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400 text-xs mt-2 font-medium\",children:errors.selectedNationality})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faBed,className:\"text-cyan-600 text-sm\"}),\"Room Type\"]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedRoomType,onChange:e=>{setSelectedRoomType(e.target.value);setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{selectedRoomType:\"\"}));},className:getInputClass(\"selectedRoomType\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Room Type\"}),roomTypes.map(room=>/*#__PURE__*/_jsx(\"option\",{value:room.name,children:room.name},room.__key))]}),errors.selectedRoomType&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400 text-xs mt-2 font-medium\",children:errors.selectedRoomType})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCalendarDay,className:\"text-cyan-600 text-sm\"}),\"Check-in\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:checkIn,min:getTodayDate(),onChange:handleCheckInChange,className:getInputClass(\"checkIn\")}),errors.checkIn&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400 text-xs mt-2 font-medium\",children:errors.checkIn})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCalendarCheck,className:\"text-cyan-600 text-sm\"}),\"Check-out\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:checkOut,min:checkIn||getTodayDate(),onChange:handleCheckOutChange,className:getInputClass(\"checkOut\")}),errors.checkOut&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400 text-xs mt-2 font-medium\",children:errors.checkOut})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUsers,className:\"text-cyan-600 text-sm\"}),\"Guests\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-xs text-gray-600 mb-1 font-medium\",children:[\"Adults \",/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"(max 2)\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:guests.adults,onChange:e=>handleGuestChange(\"adults\",e.target.value),className:getInputClass(\"adults\"),placeholder:\"0\",maxLength:\"1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-xs text-gray-600 mb-1 font-medium\",children:[\"Children \",/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"(max 3)\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:guests.children,onChange:e=>handleGuestChange(\"children\",e.target.value),className:getInputClass(\"children\"),placeholder:\"0\",maxLength:\"1\"})]})]}),errors.guests&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400 text-xs mt-2 font-medium\",children:errors.guests}),!errors.guests&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-xs mt-2 font-medium\",children:[\"Total: \",parseInt(guests.adults||0)+parseInt(guests.children||0),\" guests (max 5)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:handleFormBooking,disabled:loading.formButton,className:\"w-full max-w-xs flex items-center justify-center gap-3 px-8 py-4 rounded-xl font-semibold text-white transition-all duration-300 transform hover:scale-105 \".concat(loading.formButton?\"bg-gray-400 cursor-not-allowed\":\"bg-cyan-600 hover:bg-cyan-700 shadow-lg hover:shadow-xl\"),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch,className:\"text-lg \".concat(loading.formButton?\"animate-spin\":\"\")}),/*#__PURE__*/_jsx(\"span\",{children:loading.formButton?\"Processing...\":user?\"Book Now\":\"Login to Book\"})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 space-y-4\",children:[bookingSuccess&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500/90 backdrop-blur-sm border border-green-300 rounded-xl p-4 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 bg-green-400 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch,className:\"text-white text-sm\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-white\",children:\"Booking Confirmed!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-100 text-sm\",children:\"Your reservation has been successfully created and the admin has been notified.\"})]})]})}),showLoginAlert&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-amber-500/90 backdrop-blur-sm border border-amber-300 rounded-xl p-4 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 bg-amber-400 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUsers,className:\"text-white text-sm\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-white\",children:\"Authentication Required\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-amber-100 text-sm\",children:\"Please log in to complete your booking.\"})]})]})}),Object.keys(errors).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-500/90 backdrop-blur-sm border border-red-300 rounded-xl p-4 shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 bg-red-400 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch,className:\"text-white text-sm\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-white\",children:\"Please correct the following issues:\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside space-y-1\",children:Object.values(errors).map((error,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"text-red-100 text-sm\",children:error},index))})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 py-16 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-12\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight drop-shadow-lg\",children:[\"YOUR JOURNEY\",/*#__PURE__*/_jsx(\"span\",{className:\"block text-cyan-500 drop-shadow-lg\",children:\"BEGINS WITH A STAY\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg md:text-xl text-gray-200 leading-relaxed mb-8 font-light drop-shadow\",children:\"Just 300 meters from the beach, we offer the perfect escape with a refreshing pool, free parking, and 5 kitchens for self-cooking or a private chef. Enjoy thrilling adventures like kite surfing, snorkeling, scuba diving, dhow cruises, and safaris to national parks. Your unforgettable getaway starts here.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 justify-center items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl\",children:\"LEARN MORE\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleHeroBooking,disabled:loading.heroButton,className:\"border-2 font-semibold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-105 \".concat(loading.heroButton?\"bg-gray-400 text-gray-200 border-gray-400 cursor-not-allowed\":\"border-cyan-300 text-cyan-300 hover:bg-cyan-300 hover:text-gray-900 shadow-lg hover:shadow-xl\"),children:loading.heroButton?\"PROCESSING...\":user?\"BOOK NOW\":\"LOGIN TO BOOK\"})]})]})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","FontAwesomeIcon","faSearch","faCalendarDay","faCalendarCheck","faUsers","faGlobe","faBed","Link","v4","uuidv4","jwtDecode","jsx","_jsx","jsxs","_jsxs","BookingSearch","_ref","onLoginClick","nationalities","setNationalities","roomTypes","setRoomTypes","user","setUser","getTodayDate","Date","toISOString","split","getTomorrowDate","tomorrow","setDate","getDate","selectedNationality","setSelectedNationality","selectedRoomType","setSelectedRoomType","checkIn","setCheckIn","checkOut","setCheckOut","guests","setGuests","adults","children","errors","setErrors","loading","setLoading","formButton","heroButton","showLoginAlert","setShowLoginAlert","bookingSuccess","setBookingSuccess","checkUserAuth","storedUser","JSON","parse","localStorage","getItem","token","decoded","exp","now","id","user_id","removeItem","err","console","error","handleStorageChange","e","key","handleUserLogin","window","addEventListener","removeEventListener","fetchData","natRes","roomRes","Promise","all","fetch","ok","Error","natData","json","roomData","map","item","_item$id","_objectSpread","__key","_item$id2","validateForm","newErrors","today","parseInt","totalGuests","isNaN","checkInDate","checkOutDate","todayDate","stayDuration","Object","keys","length","executeBooking","userId","buttonType","alert","prev","bookingData","booking","nationality","room_type","check_in","check_out","response","method","headers","Authorization","concat","body","stringify","result","setTimeout","_result$errors","join","handleCheckInChange","newCheckIn","target","value","newCheckOut","nextDay","handleCheckOutChange","handleGuestChange","type","numericValue","replace","restrictedValue","adultCount","childCount","handleFormBooking","handleHeroBooking","timer","clearTimeout","getInputClass","field","className","icon","onChange","nat","name","room","min","placeholder","maxLength","onClick","disabled","values","index","to"],"sources":["/root/southcoastwebmain/src/Components/BookingSearch.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./Footer.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch, faCalendarDay, faCalendarCheck, faUsers, faGlobe, faBed } from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { jwtDecode } from \"jwt-decode\";\n\nexport default function BookingSearch({ onLoginClick }) {\n  const [nationalities, setNationalities] = useState([]);\n  const [roomTypes, setRoomTypes] = useState([]);\n  const [user, setUser] = useState(null);\n\n  // Get today's date in YYYY-MM-DD format\n  const getTodayDate = () => {\n    return new Date().toISOString().split('T')[0];\n  };\n\n  // Get tomorrow's date in YYYY-MM-DD format\n  const getTomorrowDate = () => {\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    return tomorrow.toISOString().split('T')[0];\n  };\n\n  const [selectedNationality, setSelectedNationality] = useState(\"\");\n  const [selectedRoomType, setSelectedRoomType] = useState(\"\");\n  const [checkIn, setCheckIn] = useState(getTodayDate());\n  const [checkOut, setCheckOut] = useState(getTomorrowDate());\n  const [guests, setGuests] = useState({\n    adults: \"1\",\n    children: \"0\"\n  });\n\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState({\n    formButton: false,\n    heroButton: false\n  });\n  const [showLoginAlert, setShowLoginAlert] = useState(false);\n  const [bookingSuccess, setBookingSuccess] = useState(false);\n\n  // Enhanced user initialization with polling for popup login\n  const checkUserAuth = () => {\n    const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    if (storedUser?.token) {\n      try {\n        const decoded = jwtDecode(storedUser.token);\n        if (decoded.exp * 1000 > Date.now()) {\n          setUser({ id: decoded.user_id, token: storedUser.token });\n          return true;\n        } else {\n          localStorage.removeItem(\"user\");\n          setUser(null);\n          return false;\n        }\n      } catch (err) {\n        console.error(\"Failed to decode token:\", err);\n        setUser(null);\n        return false;\n      }\n    } else {\n      setUser(null);\n      return false;\n    }\n  };\n\n  // Initialize user on mount\n  useEffect(() => {\n    checkUserAuth();\n  }, []);\n\n  // Enhanced storage event listener\n  useEffect(() => {\n    const handleStorageChange = (e) => {\n      if (e.key === \"user\") {\n        checkUserAuth();\n      }\n    };\n\n    const handleUserLogin = () => {\n      checkUserAuth();\n    };\n\n    window.addEventListener(\"storage\", handleStorageChange);\n    window.addEventListener(\"userLoggedIn\", handleUserLogin);\n    \n    return () => {\n      window.removeEventListener(\"storage\", handleStorageChange);\n      window.removeEventListener(\"userLoggedIn\", handleUserLogin);\n    };\n  }, []);\n\n  // Fetch nationalities and room types\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [natRes, roomRes] = await Promise.all([\n          fetch(\"http://127.0.0.1:3000/api/v1/nationalities\"),\n          fetch(\"http://127.0.0.1:3000/api/v1/room_types\"),\n        ]);\n\n        if (!natRes.ok) throw new Error(\"Failed to fetch nationalities\");\n        if (!roomRes.ok) throw new Error(\"Failed to fetch room types\");\n\n        const natData = await natRes.json();\n        const roomData = await roomRes.json();\n\n        setNationalities(natData.map((item) => ({ ...item, __key: item.id ?? uuidv4() })));\n        setRoomTypes(roomData.map((item) => ({ ...item, __key: item.id ?? uuidv4() })));\n      } catch (err) {\n        console.error(err);\n        setNationalities([]);\n        setRoomTypes([]);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const validateForm = () => {\n    const newErrors = {};\n    const today = getTodayDate();\n\n    if (!selectedNationality) newErrors.selectedNationality = \"Nationality is required\";\n    if (!selectedRoomType) newErrors.selectedRoomType = \"Room type is required\";\n    if (!checkIn) newErrors.checkIn = \"Check-in date is required\";\n    if (!checkOut) newErrors.checkOut = \"Check-out date is required\";\n    \n    const adults = parseInt(guests.adults, 10);\n    const children = parseInt(guests.children, 10);\n    const totalGuests = adults + children;\n\n    // Updated validation for adults (max 2)\n    if (!guests.adults || isNaN(adults) || adults < 1 || adults > 2) {\n      newErrors.adults = \"Adults must be between 1 and 2\";\n    }\n    \n    // Updated validation for children (max 3)\n    if (!guests.children || isNaN(children) || children < 0 || children > 3) {\n      newErrors.children = \"Children must be between 0 and 3\";\n    }\n\n    // Updated total guests validation (max 5: 2 adults + 3 children)\n    if (totalGuests < 1 || totalGuests > 5) {\n      newErrors.guests = \"Total guests must be between 1 and 5\";\n    }\n\n    if (checkIn && checkOut) {\n      const checkInDate = new Date(checkIn);\n      const checkOutDate = new Date(checkOut);\n      const todayDate = new Date(today);\n\n      if (checkInDate < todayDate) {\n        newErrors.checkIn = \"Check-in date cannot be in the past\";\n      }\n\n      if (checkOutDate < todayDate) {\n        newErrors.checkOut = \"Check-out date cannot be in the past\";\n      }\n\n      if (checkOutDate <= checkInDate) {\n        newErrors.checkOut = \"Check-out date must be after check-in date\";\n      }\n\n      const stayDuration = (checkOutDate - checkInDate) / (1000 * 60 * 60 * 24);\n      if (stayDuration > 30) {\n        newErrors.checkOut = \"Maximum stay duration is 30 days\";\n      }\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const executeBooking = async (token, userId, buttonType) => {\n    if (!validateForm()) {\n      alert(\"Please fix the form errors before submitting.\");\n      return;\n    }\n\n    setLoading(prev => ({ ...prev, [buttonType]: true }));\n    setBookingSuccess(false);\n\n    try {\n      const bookingData = {\n        booking: {\n          nationality: selectedNationality,\n          room_type: selectedRoomType,\n          check_in: checkIn,\n          check_out: checkOut,\n          adults: parseInt(guests.adults, 10),\n          children: parseInt(guests.children, 10)\n        },\n      };\n\n      const response = await fetch(\"http://127.0.0.1:3000/api/v1/bookings\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(bookingData),\n      });\n\n      const result = await response.json();\n\n      if (response.ok) {\n        setBookingSuccess(true);\n        \n        setSelectedNationality(\"\");\n        setSelectedRoomType(\"\");\n        setCheckIn(getTodayDate());\n        setCheckOut(getTomorrowDate());\n        setGuests({\n          adults: \"1\",\n          children: \"0\"\n        });\n        setErrors({});\n\n        setTimeout(() => {\n          setBookingSuccess(false);\n        }, 5000);\n      } else {\n        console.error(\"Booking error:\", result);\n        alert(`Booking failed: ${result.error || result.errors?.join(\", \") || \"Unknown error\"}`);\n      }\n    } catch (err) {\n      console.error(\"Booking error:\", err);\n      alert(\"Booking failed due to network error. Please try again.\");\n    } finally {\n      setLoading(prev => ({ ...prev, [buttonType]: false }));\n    }\n  };\n\n  // Handle check-in date change\n  const handleCheckInChange = (e) => {\n    const newCheckIn = e.target.value;\n    \n    let newCheckOut = checkOut;\n    if (newCheckIn && checkOut && newCheckIn >= checkOut) {\n      const nextDay = new Date(newCheckIn);\n      nextDay.setDate(nextDay.getDate() + 1);\n      newCheckOut = nextDay.toISOString().split('T')[0];\n    }\n    \n    setCheckIn(newCheckIn);\n    setCheckOut(newCheckOut);\n    setErrors((prev) => ({ ...prev, checkIn: \"\", checkOut: \"\" }));\n  };\n\n  // Handle check-out date change\n  const handleCheckOutChange = (e) => {\n    const newCheckOut = e.target.value;\n    setCheckOut(newCheckOut);\n    setErrors((prev) => ({ ...prev, checkOut: \"\" }));\n  };\n\n  // Handle guest input changes with restrictions\n  const handleGuestChange = (type, value) => {\n    const numericValue = value.replace(/\\D/g, '');\n    \n    // Apply restrictions based on guest type\n    let restrictedValue = numericValue;\n    if (type === \"adults\" && numericValue !== \"\") {\n      const adultCount = parseInt(numericValue, 10);\n      if (adultCount > 2) {\n        restrictedValue = \"2\";\n      }\n    } else if (type === \"children\" && numericValue !== \"\") {\n      const childCount = parseInt(numericValue, 10);\n      if (childCount > 3) {\n        restrictedValue = \"3\";\n      }\n    }\n    \n    setGuests(prev => ({\n      ...prev,\n      [type]: restrictedValue\n    }));\n    \n    setErrors(prev => ({ \n      ...prev, \n      [type]: \"\",\n      guests: \"\" \n    }));\n  };\n\n  // Enhanced booking handler with login alert\n  const handleFormBooking = () => {\n    if (!user) {\n      setShowLoginAlert(true);\n      return;\n    }\n    executeBooking(user.token, user.id, 'formButton');\n  };\n\n  const handleHeroBooking = () => {\n    if (!user) {\n      setShowLoginAlert(true);\n      return;\n    }\n    executeBooking(user.token, user.id, 'heroButton');\n  };\n\n  // Auto-hide login alert after 5 seconds\n  useEffect(() => {\n    if (showLoginAlert) {\n      const timer = setTimeout(() => {\n        setShowLoginAlert(false);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [showLoginAlert]);\n\n  const getInputClass = (field) =>\n    errors[field]\n      ? \"w-full border-2 border-red-400 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors bg-white/90\"\n      : \"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-colors bg-white/90\";\n\n  return (\n    <div className=\"my-background py-8\">\n      {/* Booking Form Section */}\n      <div className=\"max-w-7xl mx-auto px-4\">\n        <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 overflow-hidden\">\n          <div className=\"grid grid-cols-1 md:grid-cols-5 gap-0\">\n            \n            {/* Nationality */}\n            <div className=\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\">\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\n                <FontAwesomeIcon icon={faGlobe} className=\"text-cyan-600 text-sm\" />\n                Guest Nationality\n              </label>\n              <select\n                value={selectedNationality}\n                onChange={(e) => {\n                  setSelectedNationality(e.target.value);\n                  setErrors((prev) => ({ ...prev, selectedNationality: \"\" }));\n                }}\n                className={getInputClass(\"selectedNationality\")}\n              >\n                <option value=\"\">Select Nationality</option>\n                {nationalities.map((nat) => (\n                  <option key={nat.__key} value={nat.name}>\n                    {nat.name}\n                  </option>\n                ))}\n              </select>\n              {errors.selectedNationality && (\n                <p className=\"text-red-400 text-xs mt-2 font-medium\">{errors.selectedNationality}</p>\n              )}\n            </div>\n\n            {/* Room Type */}\n            <div className=\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\">\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\n                <FontAwesomeIcon icon={faBed} className=\"text-cyan-600 text-sm\" />\n                Room Type\n              </label>\n              <select\n                value={selectedRoomType}\n                onChange={(e) => {\n                  setSelectedRoomType(e.target.value);\n                  setErrors((prev) => ({ ...prev, selectedRoomType: \"\" }));\n                }}\n                className={getInputClass(\"selectedRoomType\")}\n              >\n                <option value=\"\">Select Room Type</option>\n                {roomTypes.map((room) => (\n                  <option key={room.__key} value={room.name}>\n                    {room.name}\n                  </option>\n                ))}\n              </select>\n              {errors.selectedRoomType && (\n                <p className=\"text-red-400 text-xs mt-2 font-medium\">{errors.selectedRoomType}</p>\n              )}\n            </div>\n\n            {/* Dates */}\n            <div className=\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\n                    <FontAwesomeIcon icon={faCalendarDay} className=\"text-cyan-600 text-sm\" />\n                    Check-in\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={checkIn}\n                    min={getTodayDate()}\n                    onChange={handleCheckInChange}\n                    className={getInputClass(\"checkIn\")}\n                  />\n                  {errors.checkIn && (\n                    <p className=\"text-red-400 text-xs mt-2 font-medium\">{errors.checkIn}</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\n                    <FontAwesomeIcon icon={faCalendarCheck} className=\"text-cyan-600 text-sm\" />\n                    Check-out\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={checkOut}\n                    min={checkIn || getTodayDate()}\n                    onChange={handleCheckOutChange}\n                    className={getInputClass(\"checkOut\")}\n                  />\n                  {errors.checkOut && (\n                    <p className=\"text-red-400 text-xs mt-2 font-medium\">{errors.checkOut}</p>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Guests */}\n            <div className=\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\">\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\n                <FontAwesomeIcon icon={faUsers} className=\"text-cyan-600 text-sm\" />\n                Guests\n              </label>\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <label className=\"block text-xs text-gray-600 mb-1 font-medium\">\n                    Adults <span className=\"text-gray-400\">(max 2)</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={guests.adults}\n                    onChange={(e) => handleGuestChange(\"adults\", e.target.value)}\n                    className={getInputClass(\"adults\")}\n                    placeholder=\"0\"\n                    maxLength=\"1\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-xs text-gray-600 mb-1 font-medium\">\n                    Children <span className=\"text-gray-400\">(max 3)</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={guests.children}\n                    onChange={(e) => handleGuestChange(\"children\", e.target.value)}\n                    className={getInputClass(\"children\")}\n                    placeholder=\"0\"\n                    maxLength=\"1\"\n                  />\n                </div>\n              </div>\n              {errors.guests && (\n                <p className=\"text-red-400 text-xs mt-2 font-medium\">{errors.guests}</p>\n              )}\n              {!errors.guests && (\n                <p className=\"text-gray-600 text-xs mt-2 font-medium\">\n                  Total: {parseInt(guests.adults || 0) + parseInt(guests.children || 0)} guests (max 5)\n                </p>\n              )}\n            </div>\n\n            {/* Book Button */}\n            <div className=\"p-6 flex items-center justify-center\">\n              <button\n                type=\"button\"\n                onClick={handleFormBooking}\n                disabled={loading.formButton}\n                className={`w-full max-w-xs flex items-center justify-center gap-3 px-8 py-4 rounded-xl font-semibold text-white transition-all duration-300 transform hover:scale-105 ${\n                  loading.formButton \n                    ? \"bg-gray-400 cursor-not-allowed\" \n                    : \"bg-cyan-600 hover:bg-cyan-700 shadow-lg hover:shadow-xl\"\n                }`}\n              >\n                <FontAwesomeIcon \n                  icon={faSearch} \n                  className={`text-lg ${loading.formButton ? \"animate-spin\" : \"\"}`} \n                />\n                <span>\n                  {loading.formButton ? \"Processing...\" : (user ? \"Book Now\" : \"Login to Book\")}\n                </span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Status Messages */}\n        <div className=\"mt-6 space-y-4\">\n          {/* Success Message */}\n          {bookingSuccess && (\n            <div className=\"bg-green-500/90 backdrop-blur-sm border border-green-300 rounded-xl p-4 shadow-lg\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"flex-shrink-0 w-8 h-8 bg-green-400 rounded-full flex items-center justify-center\">\n                  <FontAwesomeIcon icon={faSearch} className=\"text-white text-sm\" />\n                </div>\n                <div>\n                  <p className=\"font-semibold text-white\">Booking Confirmed!</p>\n                  <p className=\"text-green-100 text-sm\">Your reservation has been successfully created and the admin has been notified.</p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Login Alert */}\n          {showLoginAlert && (\n            <div className=\"bg-amber-500/90 backdrop-blur-sm border border-amber-300 rounded-xl p-4 shadow-lg\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"flex-shrink-0 w-8 h-8 bg-amber-400 rounded-full flex items-center justify-center\">\n                  <FontAwesomeIcon icon={faUsers} className=\"text-white text-sm\" />\n                </div>\n                <div>\n                  <p className=\"font-semibold text-white\">Authentication Required</p>\n                  <p className=\"text-amber-100 text-sm\">Please log in to complete your booking.</p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Error Summary */}\n          {Object.keys(errors).length > 0 && (\n            <div className=\"bg-red-500/90 backdrop-blur-sm border border-red-300 rounded-xl p-4 shadow-lg\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <div className=\"flex-shrink-0 w-8 h-8 bg-red-400 rounded-full flex items-center justify-center\">\n                  <FontAwesomeIcon icon={faSearch} className=\"text-white text-sm\" />\n                </div>\n                <p className=\"font-semibold text-white\">Please correct the following issues:</p>\n              </div>\n              <ul className=\"list-disc list-inside space-y-1\">\n                {Object.values(errors).map((error, index) => (\n                  <li key={index} className=\"text-red-100 text-sm\">{error}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Hero Section */}\n      <div className=\"max-w-7xl mx-auto px-4 py-16 text-center\">\n        <div className=\"mb-12\">\n          <h1 className=\"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight drop-shadow-lg\">\n            YOUR JOURNEY\n            <span className=\"block text-cyan-500 drop-shadow-lg\">\n              BEGINS WITH A STAY\n            </span>\n          </h1>\n          \n          <div className=\"max-w-4xl mx-auto\">\n            <p className=\"text-lg md:text-xl text-gray-200 leading-relaxed mb-8 font-light drop-shadow\">\n              Just 300 meters from the beach, we offer the perfect escape with a refreshing pool,\n              free parking, and 5 kitchens for self-cooking or a private chef. Enjoy thrilling\n              adventures like kite surfing, snorkeling, scuba diving, dhow cruises, and safaris to\n              national parks. Your unforgettable getaway starts here.\n            </p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center items-center\">\n              <Link\n                to=\"/about\"\n                className=\"bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl\"\n              >\n                LEARN MORE\n              </Link>\n              <button\n                onClick={handleHeroBooking}\n                disabled={loading.heroButton}\n                className={`border-2 font-semibold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-105 ${\n                  loading.heroButton\n                    ? \"bg-gray-400 text-gray-200 border-gray-400 cursor-not-allowed\"\n                    : \"border-cyan-300 text-cyan-300 hover:bg-cyan-300 hover:text-gray-900 shadow-lg hover:shadow-xl\"\n                }`}\n              >\n                {loading.heroButton ? \"PROCESSING...\" : user ? \"BOOK NOW\" : \"LOGIN TO BOOK\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}