{"ast":null,"code":"import _objectSpread from\"/root/southcoastwebmain/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// PackagePage.js\nimport React,{useState,useEffect}from\"react\";import{useLocation,useParams,useNavigate}from\"react-router-dom\";import Package from\"./Package\";import{Link}from\"react-router-dom\";import{jwtDecode}from\"jwt-decode\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faCalendarDay,faCalendarCheck,faUsers,faGlobe,faBed,faCheckCircle}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PackagePage(_ref){var _location$state;let{onLoginClick,user,onLogout}=_ref;const{roomTitle}=useParams();const location=useLocation();const navigate=useNavigate();const room=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.room;// Get today's date in YYYY-MM-DD format\nconst getTodayDate=()=>{return new Date().toISOString().split('T')[0];};// Get tomorrow's date in YYYY-MM-DD format\nconst getTomorrowDate=()=>{const tomorrow=new Date();tomorrow.setDate(tomorrow.getDate()+1);return tomorrow.toISOString().split('T')[0];};// State for booking form - UPDATED with adults and children\nconst[bookingData,setBookingData]=useState({nationality:\"\",roomType:(room===null||room===void 0?void 0:room.title)||\"\",checkIn:getTodayDate(),// Default to today\ncheckOut:getTomorrowDate(),// Default to tomorrow\nadults:\"1\",children:\"0\"});const[nationalities,setNationalities]=useState([]);const[isSubmitting,setIsSubmitting]=useState(false);const[message,setMessage]=useState(\"\");const[isLoadingNationalities,setIsLoadingNationalities]=useState(true);const[pendingBooking,setPendingBooking]=useState(false);const[showLoginAlert,setShowLoginAlert]=useState(false);const[bookingSuccess,setBookingSuccess]=useState(false);const[errors,setErrors]=useState({});// Enhanced authentication check\nconst checkUserAuth=()=>{try{const storedUser=JSON.parse(localStorage.getItem(\"user\")||\"{}\");if(storedUser!==null&&storedUser!==void 0&&storedUser.token){const decoded=jwtDecode(storedUser.token);// Check if token is expired\nif(decoded.exp*1000>Date.now()){return true;}else{// Token expired, remove it\nlocalStorage.removeItem(\"user\");return false;}}else{return false;}}catch(error){console.error(\"Error checking auth:\",error);return false;}};// Check authentication on component mount\nuseEffect(()=>{checkUserAuth();},[]);// Listen for login events\nuseEffect(()=>{const handleUserLogin=()=>{checkUserAuth();// If there was a pending booking, execute it after login\nif(pendingBooking){setPendingBooking(false);setTimeout(()=>{handleSubmit({preventDefault:()=>{}});},500);}};const handleStorageChange=e=>{if(e.key===\"user\"){checkUserAuth();}};window.addEventListener(\"userLoggedIn\",handleUserLogin);window.addEventListener(\"storage\",handleStorageChange);return()=>{window.removeEventListener(\"userLoggedIn\",handleUserLogin);window.removeEventListener(\"storage\",handleStorageChange);};},[pendingBooking]);// Auto-hide login alert after 5 seconds\nuseEffect(()=>{if(showLoginAlert){const timer=setTimeout(()=>{setShowLoginAlert(false);},5000);return()=>clearTimeout(timer);}},[showLoginAlert]);// Auto-hide success message after 5 seconds\nuseEffect(()=>{if(bookingSuccess){const timer=setTimeout(()=>{setBookingSuccess(false);},5000);return()=>clearTimeout(timer);}},[bookingSuccess]);// Fetch nationalities from API\nuseEffect(()=>{const fetchNationalities=async()=>{try{const response=await fetch('http://127.0.0.1:3000/api/v1/nationalities');// First get response as text to check if it's valid JSON\nconst responseText=await response.text();let data;try{data=JSON.parse(responseText);}catch(parseError){console.error(\"JSON Parse Error:\",parseError);console.log(\"Server Response:\",responseText.substring(0,200));throw new Error(\"Server returned an invalid response. Please check if the backend is running properly.\");}if(response.ok){setNationalities(data);}else{throw new Error('Failed to fetch nationalities');}}catch(error){console.error('Error fetching nationalities:',error);setMessage(\"Error loading nationalities. Please refresh the page.\");// Fallback nationalities in case API fails\nsetNationalities([{id:1,name:\"Kenyan\"},{id:2,name:\"American\"},{id:3,name:\"British\"},{id:4,name:\"Canadian\"},{id:5,name:\"German\"},{id:6,name:\"French\"},{id:7,name:\"Chinese\"},{id:8,name:\"Indian\"},{id:9,name:\"Australian\"},{id:10,name:\"Japanese\"},{id:11,name:\"South African\"},{id:12,name:\"Ugandan\"},{id:13,name:\"Tanzanian\"},{id:14,name:\"Rwandan\"},{id:15,name:\"Ethiopian\"}]);}finally{setIsLoadingNationalities(false);}};fetchNationalities();},[]);// Handle form input changes\nconst handleInputChange=e=>{const{name,value}=e.target;// For guest inputs (adults and children), ensure they're numbers and within limits\nif(name==='adults'||name==='children'){const numericValue=value.replace(/\\D/g,'');setBookingData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:numericValue}));// Clear guest-related errors when user starts typing\nsetErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:\"\",guests:\"\"}));return;}// For check-in date changes\nif(name==='checkIn'){const newCheckIn=value;let newCheckOut=bookingData.checkOut;// If new check-in is after current check-out, reset check-out to next day\nif(newCheckIn&&newCheckOut&&newCheckIn>=newCheckOut){const nextDay=new Date(newCheckIn);nextDay.setDate(nextDay.getDate()+1);newCheckOut=nextDay.toISOString().split('T')[0];}setBookingData(prev=>_objectSpread(_objectSpread({},prev),{},{checkIn:newCheckIn,checkOut:newCheckOut}));setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{checkIn:\"\",checkOut:\"\"}));return;}// For check-out date changes\nif(name==='checkOut'){setBookingData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{checkOut:\"\"}));return;}// For nationality and room type\nsetBookingData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));if(name==='nationality'){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{nationality:\"\"}));}};// Validate form\nconst validateForm=()=>{const newErrors={};const today=getTodayDate();if(!bookingData.nationality)newErrors.nationality=\"Nationality is required\";// Guest validations\nconst adults=parseInt(bookingData.adults,10);const children=parseInt(bookingData.children,10);const totalGuests=adults+children;if(!bookingData.adults||isNaN(adults)||adults<1||adults>20){newErrors.adults=\"Adults must be between 1 and 20\";}if(!bookingData.children||isNaN(children)||children<0||children>20){newErrors.children=\"Children must be between 0 and 20\";}if(totalGuests<1||totalGuests>20){newErrors.guests=\"Total guests must be between 1 and 20\";}// Date validations\nif(bookingData.checkIn&&bookingData.checkOut){const checkInDate=new Date(bookingData.checkIn);const checkOutDate=new Date(bookingData.checkOut);const todayDate=new Date(today);// Check if check-in is today or in the future\nif(checkInDate<todayDate){newErrors.checkIn=\"Check-in date cannot be in the past\";}// Check if check-out is today or in the future\nif(checkOutDate<todayDate){newErrors.checkOut=\"Check-out date cannot be in the past\";}// Check if check-out is after check-in\nif(checkOutDate<=checkInDate){newErrors.checkOut=\"Check-out date must be after check-in date\";}// Optional: Maximum stay duration (30 days)\nconst stayDuration=(checkOutDate-checkInDate)/(1000*60*60*24);if(stayDuration>30){newErrors.checkOut=\"Maximum stay duration is 30 days\";}}setErrors(newErrors);return Object.keys(newErrors).length===0;};// Handle login popup FOR BOOKING\nconst handleLoginPopup=()=>{setPendingBooking(true);setShowLoginAlert(true);if(typeof onLoginClick===\"function\"){onLoginClick();}else{alert(\"Please log in to make a booking\");}};// Handle Join Us button click - SEPARATE FUNCTION\nconst handleJoinUsClick=()=>{if(typeof onLoginClick===\"function\"){onLoginClick();}else{// This should not happen if the prop is properly passed\nconsole.error(\"onLoginClick prop not provided to PackagePage\");alert(\"Please log in to join South Coast\");}};// Handle My Bookings navigation\nconst handleMyBookings=()=>{navigate(\"/mybookings\");};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();// Check if user is logged in\nif(!user){handleLoginPopup();return;}if(!validateForm())return;setIsSubmitting(true);setMessage(\"\");setBookingSuccess(false);try{if(!user.token){throw new Error('No authentication token found');}// Prepare the data to send to backend - UPDATED with adults and children\nconst bookingPayload={booking:{nationality:bookingData.nationality,room_type:bookingData.roomType,check_in:bookingData.checkIn,check_out:bookingData.checkOut,adults:parseInt(bookingData.adults,10),children:parseInt(bookingData.children,10)}};const response=await fetch('http://127.0.0.1:3000/api/v1/bookings',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(user.token)},body:JSON.stringify(bookingPayload)});// First get response as text to check if it's valid JSON\nconst responseText=await response.text();let result;try{result=JSON.parse(responseText);}catch(parseError){console.error(\"JSON Parse Error:\",parseError);console.log(\"Server Response:\",responseText.substring(0,200));throw new Error(\"Server returned an invalid response. Please check if the backend is running properly.\");}if(response.ok){// ✅ Show success message and reset form\nsetBookingSuccess(true);// Reset form\nsetBookingData({nationality:\"\",roomType:(room===null||room===void 0?void 0:room.title)||\"\",checkIn:getTodayDate(),checkOut:getTomorrowDate(),adults:\"1\",children:\"0\"});setErrors({});}else{var _result$errors;console.error(\"Booking error:\",result);throw new Error(result.error||((_result$errors=result.errors)===null||_result$errors===void 0?void 0:_result$errors.join(\", \"))||'Failed to submit booking');}}catch(error){console.error('Error submitting booking:',error);setMessage(\"\\u274C \".concat(error.message||\"Error submitting booking. Please try again.\"));}finally{setIsSubmitting(false);}};// Helper function for input classes\nconst getInputClass=field=>errors[field]?\"w-full border-2 border-red-400 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors bg-white/90\":\"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-colors bg-white/90\";// If user comes directly without state (refresh or direct URL)\nif(!room){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-8 bg-white rounded-2xl shadow-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 text-lg mb-4\",children:\"Room information not available.\"}),/*#__PURE__*/_jsx(Link,{to:\"/rooms\",className:\"bg-cyan-600 hover:bg-cyan-700 text-white font-semibold px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105\",children:\"Return to Rooms\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-96 flex items-center justify-center text-white\",style:{backgroundImage:\"url(\".concat(room.image[0],\")\"),backgroundSize:\"cover\",backgroundPosition:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/50\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative text-center px-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl md:text-6xl font-bold mb-4 drop-shadow-lg\",children:room.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl md:text-2xl text-cyan-200 font-light drop-shadow\",children:\"Luxury Accommodation & Unforgettable Experiences\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 mt-6 space-y-4\",children:[bookingSuccess&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500/90 backdrop-blur-sm border border-green-300 rounded-xl p-4 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 bg-green-400 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle,className:\"text-white text-sm\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-white\",children:\"Booking Confirmed!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-100 text-sm\",children:\"Your booking has been confirmed and the admin has been notified.\"})]})]})}),showLoginAlert&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-amber-500/90 backdrop-blur-sm border border-amber-300 rounded-xl p-4 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 bg-amber-400 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUsers,className:\"text-white text-sm\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-white\",children:\"Authentication Required\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-amber-100 text-sm\",children:\"Please log in to complete your booking.\"})]})]})}),Object.keys(errors).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-500/90 backdrop-blur-sm border border-red-300 rounded-xl p-4 shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 bg-red-400 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle,className:\"text-white text-sm\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-white\",children:\"Please correct the following issues:\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside space-y-1\",children:Object.values(errors).map((error,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"text-red-100 text-sm\",children:error},index))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 mt-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-5 gap-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faGlobe,className:\"text-cyan-600 text-sm\"}),\"Guest Nationality\"]}),/*#__PURE__*/_jsxs(\"select\",{name:\"nationality\",value:bookingData.nationality,onChange:handleInputChange,className:getInputClass(\"nationality\"),required:true,disabled:isLoadingNationalities,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Nationality\"}),nationalities.map(nationality=>/*#__PURE__*/_jsx(\"option\",{value:nationality.name,children:nationality.name},nationality.id||nationality.name))]}),errors.nationality&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs mt-2 font-medium\",children:errors.nationality}),isLoadingNationalities&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-2\",children:\"Loading nationalities...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faBed,className:\"text-cyan-600 text-sm\"}),\"Room Type\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"roomType\",value:bookingData.roomType,readOnly:true,className:\"w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-100/80 focus:outline-none focus:ring-2 focus:ring-cyan-500 text-gray-700\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCalendarDay,className:\"text-cyan-600 text-sm\"}),\"Check-in\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"checkIn\",value:bookingData.checkIn,onChange:handleInputChange,min:getTodayDate(),className:getInputClass(\"checkIn\"),required:true}),errors.checkIn&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs mt-2 font-medium\",children:errors.checkIn})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCalendarCheck,className:\"text-cyan-600 text-sm\"}),\"Check-out\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"checkOut\",value:bookingData.checkOut,onChange:handleInputChange,min:bookingData.checkIn||getTodayDate(),className:getInputClass(\"checkOut\"),required:true}),errors.checkOut&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs mt-2 font-medium\",children:errors.checkOut})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUsers,className:\"text-cyan-600 text-sm\"}),\"Guests\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-600 mb-1 font-medium\",children:\"Adults\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"adults\",value:bookingData.adults,onChange:handleInputChange,className:getInputClass(\"adults\"),placeholder:\"0\",maxLength:\"2\"}),errors.adults&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs mt-2 font-medium\",children:errors.adults})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-600 mb-1 font-medium\",children:\"Children\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"children\",value:bookingData.children,onChange:handleInputChange,className:getInputClass(\"children\"),placeholder:\"0\",maxLength:\"2\"}),errors.children&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs mt-2 font-medium\",children:errors.children})]})]}),errors.guests&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs mt-2 font-medium\",children:errors.guests}),!errors.guests&&!errors.adults&&!errors.children&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-xs mt-2 font-medium\",children:[\"Total: \",parseInt(bookingData.adults||0)+parseInt(bookingData.children||0),\" guests\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,disabled:isSubmitting||!user&&pendingBooking,className:\"w-full max-w-xs flex items-center justify-center gap-3 px-8 py-4 rounded-xl font-semibold text-white transition-all duration-300 transform hover:scale-105 \".concat(isSubmitting||!user&&pendingBooking?\"bg-gray-400 cursor-not-allowed\":\"bg-cyan-600 hover:bg-cyan-700 shadow-lg hover:shadow-xl\"),children:!user?\"Login to Book\":isSubmitting?\"Processing...\":\"Book Now\"})})]})})}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 mt-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rounded-xl p-4 shadow-lg \".concat(message.includes(\"❌\")||message.includes(\"Error\")||message.includes(\"Please\")||message.includes(\"cannot\")?\"bg-red-500/90 text-white\":\"bg-green-500/90 text-white\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle,className:\"text-sm \".concat(message.includes(\"❌\")?\"text-red-100\":\"text-green-100\")}),/*#__PURE__*/_jsx(\"span\",{children:message})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 py-16\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-8\",children:/*#__PURE__*/_jsx(\"img\",{src:room.image[1],alt:room.title,className:\"rounded-2xl w-full h-80 object-cover shadow-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 mb-4\",children:room.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 mb-6 leading-relaxed\",children:[\"Enjoy our luxurious \",room.title,\" with modern amenities, elegant interiors, and a peaceful environment perfect for both business and leisure stays.\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-cyan-600 mb-8\",children:[room.price,\" / night\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>!user?handleLoginPopup():handleSubmit({preventDefault:()=>{}}),className:\"px-8 py-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 \".concat(user?\"bg-cyan-600 hover:bg-cyan-700 text-white shadow-lg hover:shadow-xl\":\"bg-cyan-600 hover:bg-cyan-700 text-white shadow-lg hover:shadow-xl\"),children:user?\"Book This Room\":\"Login to Book\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-16 bg-gray-100/50\",children:/*#__PURE__*/_jsx(Package,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-cyan-600 to-cyan-700 py-16\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold mb-6\",children:\"Join the South Coast Experience\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-cyan-100 leading-relaxed mb-6\",children:\"Discover the beauty of Kenya's coastline like never before. At SouthCoast Outdoors, we make it easy for you to plan and enjoy unforgettable getaways filled with sun, sea, and adventure. From exclusive travel deals to inspiring destination highlights, we'll deliver the best offers straight to your inbox.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-cyan-100 leading-relaxed mb-8\",children:\"Whether it's flights, airport transfers, or exciting activities, we handle the details so you can focus on making lasting memories.\"}),user?/*#__PURE__*/_jsx(\"button\",{onClick:handleMyBookings,className:\"bg-green-500 hover:bg-green-600 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\",children:\"My Account\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleJoinUsClick,className:\"bg-green-500 hover:bg-green-600 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\",children:\"Join Us Today\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/20 backdrop-blur-sm rounded-2xl p-8 border border-white/40\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-white mb-6\",children:\"Why SouthCoast Outdoors?\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-4 text-white\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle,className:\"text-green-400\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Tailor-made holiday experiences\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle,className:\"text-green-400\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Trusted support from start to finish\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle,className:\"text-green-400\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Exceptional value for your money\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle,className:\"text-green-400\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Flexible travel options\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle,className:\"text-green-400\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Exclusive deals and offers\"})]})]})]})]})})})]});}","map":{"version":3,"names":["React","useState","useEffect","useLocation","useParams","useNavigate","Package","Link","jwtDecode","FontAwesomeIcon","faCalendarDay","faCalendarCheck","faUsers","faGlobe","faBed","faCheckCircle","jsx","_jsx","jsxs","_jsxs","PackagePage","_ref","_location$state","onLoginClick","user","onLogout","roomTitle","location","navigate","room","state","getTodayDate","Date","toISOString","split","getTomorrowDate","tomorrow","setDate","getDate","bookingData","setBookingData","nationality","roomType","title","checkIn","checkOut","adults","children","nationalities","setNationalities","isSubmitting","setIsSubmitting","message","setMessage","isLoadingNationalities","setIsLoadingNationalities","pendingBooking","setPendingBooking","showLoginAlert","setShowLoginAlert","bookingSuccess","setBookingSuccess","errors","setErrors","checkUserAuth","storedUser","JSON","parse","localStorage","getItem","token","decoded","exp","now","removeItem","error","console","handleUserLogin","setTimeout","handleSubmit","preventDefault","handleStorageChange","e","key","window","addEventListener","removeEventListener","timer","clearTimeout","fetchNationalities","response","fetch","responseText","text","data","parseError","log","substring","Error","ok","id","name","handleInputChange","value","target","numericValue","replace","prev","_objectSpread","guests","newCheckIn","newCheckOut","nextDay","validateForm","newErrors","today","parseInt","totalGuests","isNaN","checkInDate","checkOutDate","todayDate","stayDuration","Object","keys","length","handleLoginPopup","alert","handleJoinUsClick","handleMyBookings","bookingPayload","booking","room_type","check_in","check_out","method","headers","concat","body","stringify","result","_result$errors","join","getInputClass","field","className","to","style","backgroundImage","image","backgroundSize","backgroundPosition","icon","values","map","index","onChange","required","disabled","type","readOnly","min","placeholder","maxLength","onClick","includes","src","alt","price"],"sources":["/root/southcoastwebmain/src/Components/PackagePage.js"],"sourcesContent":["// PackagePage.js\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation, useParams, useNavigate } from \"react-router-dom\";\nimport Package from \"./Package\"; \nimport { Link } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCalendarDay, faCalendarCheck, faUsers, faGlobe, faBed, faCheckCircle } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function PackagePage({ onLoginClick, user, onLogout }) {\n  const { roomTitle } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const room = location.state?.room;\n\n  // Get today's date in YYYY-MM-DD format\n  const getTodayDate = () => {\n    return new Date().toISOString().split('T')[0];\n  };\n\n  // Get tomorrow's date in YYYY-MM-DD format\n  const getTomorrowDate = () => {\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    return tomorrow.toISOString().split('T')[0];\n  };\n\n  // State for booking form - UPDATED with adults and children\n  const [bookingData, setBookingData] = useState({\n    nationality: \"\",\n    roomType: room?.title || \"\",\n    checkIn: getTodayDate(), // Default to today\n    checkOut: getTomorrowDate(), // Default to tomorrow\n    adults: \"1\",\n    children: \"0\"\n  });\n  const [nationalities, setNationalities] = useState([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [isLoadingNationalities, setIsLoadingNationalities] = useState(true);\n  const [pendingBooking, setPendingBooking] = useState(false);\n  const [showLoginAlert, setShowLoginAlert] = useState(false);\n  const [bookingSuccess, setBookingSuccess] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  // Enhanced authentication check\n  const checkUserAuth = () => {\n    try {\n      const storedUser = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n      if (storedUser?.token) {\n        const decoded = jwtDecode(storedUser.token);\n        // Check if token is expired\n        if (decoded.exp * 1000 > Date.now()) {\n          return true;\n        } else {\n          // Token expired, remove it\n          localStorage.removeItem(\"user\");\n          return false;\n        }\n      } else {\n        return false;\n      }\n    } catch (error) {\n      console.error(\"Error checking auth:\", error);\n      return false;\n    }\n  };\n\n  // Check authentication on component mount\n  useEffect(() => {\n    checkUserAuth();\n  }, []);\n\n  // Listen for login events\n  useEffect(() => {\n    const handleUserLogin = () => {\n      checkUserAuth();\n      // If there was a pending booking, execute it after login\n      if (pendingBooking) {\n        setPendingBooking(false);\n        setTimeout(() => {\n          handleSubmit({ preventDefault: () => {} });\n        }, 500);\n      }\n    };\n\n    const handleStorageChange = (e) => {\n      if (e.key === \"user\") {\n        checkUserAuth();\n      }\n    };\n\n    window.addEventListener(\"userLoggedIn\", handleUserLogin);\n    window.addEventListener(\"storage\", handleStorageChange);\n\n    return () => {\n      window.removeEventListener(\"userLoggedIn\", handleUserLogin);\n      window.removeEventListener(\"storage\", handleStorageChange);\n    };\n  }, [pendingBooking]);\n\n  // Auto-hide login alert after 5 seconds\n  useEffect(() => {\n    if (showLoginAlert) {\n      const timer = setTimeout(() => {\n        setShowLoginAlert(false);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [showLoginAlert]);\n\n  // Auto-hide success message after 5 seconds\n  useEffect(() => {\n    if (bookingSuccess) {\n      const timer = setTimeout(() => {\n        setBookingSuccess(false);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [bookingSuccess]);\n\n  // Fetch nationalities from API\n  useEffect(() => {\n    const fetchNationalities = async () => {\n      try {\n        const response = await fetch('http://127.0.0.1:3000/api/v1/nationalities');\n        \n        // First get response as text to check if it's valid JSON\n        const responseText = await response.text();\n        let data;\n\n        try {\n          data = JSON.parse(responseText);\n        } catch (parseError) {\n          console.error(\"JSON Parse Error:\", parseError);\n          console.log(\"Server Response:\", responseText.substring(0, 200));\n          throw new Error(\"Server returned an invalid response. Please check if the backend is running properly.\");\n        }\n\n        if (response.ok) {\n          setNationalities(data);\n        } else {\n          throw new Error('Failed to fetch nationalities');\n        }\n      } catch (error) {\n        console.error('Error fetching nationalities:', error);\n        setMessage(\"Error loading nationalities. Please refresh the page.\");\n        // Fallback nationalities in case API fails\n        setNationalities([\n          { id: 1, name: \"Kenyan\" },\n          { id: 2, name: \"American\" },\n          { id: 3, name: \"British\" },\n          { id: 4, name: \"Canadian\" },\n          { id: 5, name: \"German\" },\n          { id: 6, name: \"French\" },\n          { id: 7, name: \"Chinese\" },\n          { id: 8, name: \"Indian\" },\n          { id: 9, name: \"Australian\" },\n          { id: 10, name: \"Japanese\" },\n          { id: 11, name: \"South African\" },\n          { id: 12, name: \"Ugandan\" },\n          { id: 13, name: \"Tanzanian\" },\n          { id: 14, name: \"Rwandan\" },\n          { id: 15, name: \"Ethiopian\" },\n        ]);\n      } finally {\n        setIsLoadingNationalities(false);\n      }\n    };\n\n    fetchNationalities();\n  }, []);\n\n  // Handle form input changes\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    \n    // For guest inputs (adults and children), ensure they're numbers and within limits\n    if (name === 'adults' || name === 'children') {\n      const numericValue = value.replace(/\\D/g, '');\n      \n      setBookingData(prev => ({\n        ...prev,\n        [name]: numericValue\n      }));\n\n      // Clear guest-related errors when user starts typing\n      setErrors(prev => ({ \n        ...prev, \n        [name]: \"\",\n        guests: \"\" \n      }));\n      return;\n    }\n\n    // For check-in date changes\n    if (name === 'checkIn') {\n      const newCheckIn = value;\n      let newCheckOut = bookingData.checkOut;\n      \n      // If new check-in is after current check-out, reset check-out to next day\n      if (newCheckIn && newCheckOut && newCheckIn >= newCheckOut) {\n        const nextDay = new Date(newCheckIn);\n        nextDay.setDate(nextDay.getDate() + 1);\n        newCheckOut = nextDay.toISOString().split('T')[0];\n      }\n      \n      setBookingData(prev => ({\n        ...prev,\n        checkIn: newCheckIn,\n        checkOut: newCheckOut\n      }));\n\n      setErrors(prev => ({ ...prev, checkIn: \"\", checkOut: \"\" }));\n      return;\n    }\n\n    // For check-out date changes\n    if (name === 'checkOut') {\n      setBookingData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n      setErrors(prev => ({ ...prev, checkOut: \"\" }));\n      return;\n    }\n\n    // For nationality and room type\n    setBookingData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    if (name === 'nationality') {\n      setErrors(prev => ({ ...prev, nationality: \"\" }));\n    }\n  };\n\n  // Validate form\n  const validateForm = () => {\n    const newErrors = {};\n    const today = getTodayDate();\n\n    if (!bookingData.nationality) newErrors.nationality = \"Nationality is required\";\n    \n    // Guest validations\n    const adults = parseInt(bookingData.adults, 10);\n    const children = parseInt(bookingData.children, 10);\n    const totalGuests = adults + children;\n\n    if (!bookingData.adults || isNaN(adults) || adults < 1 || adults > 20) {\n      newErrors.adults = \"Adults must be between 1 and 20\";\n    }\n    \n    if (!bookingData.children || isNaN(children) || children < 0 || children > 20) {\n      newErrors.children = \"Children must be between 0 and 20\";\n    }\n\n    if (totalGuests < 1 || totalGuests > 20) {\n      newErrors.guests = \"Total guests must be between 1 and 20\";\n    }\n\n    // Date validations\n    if (bookingData.checkIn && bookingData.checkOut) {\n      const checkInDate = new Date(bookingData.checkIn);\n      const checkOutDate = new Date(bookingData.checkOut);\n      const todayDate = new Date(today);\n\n      // Check if check-in is today or in the future\n      if (checkInDate < todayDate) {\n        newErrors.checkIn = \"Check-in date cannot be in the past\";\n      }\n\n      // Check if check-out is today or in the future\n      if (checkOutDate < todayDate) {\n        newErrors.checkOut = \"Check-out date cannot be in the past\";\n      }\n\n      // Check if check-out is after check-in\n      if (checkOutDate <= checkInDate) {\n        newErrors.checkOut = \"Check-out date must be after check-in date\";\n      }\n\n      // Optional: Maximum stay duration (30 days)\n      const stayDuration = (checkOutDate - checkInDate) / (1000 * 60 * 60 * 24);\n      if (stayDuration > 30) {\n        newErrors.checkOut = \"Maximum stay duration is 30 days\";\n      }\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Handle login popup FOR BOOKING\n  const handleLoginPopup = () => {\n    setPendingBooking(true);\n    setShowLoginAlert(true);\n    if (typeof onLoginClick === \"function\") {\n      onLoginClick();\n    } else {\n      alert(\"Please log in to make a booking\");\n    }\n  };\n\n  // Handle Join Us button click - SEPARATE FUNCTION\n  const handleJoinUsClick = () => {\n    if (typeof onLoginClick === \"function\") {\n      onLoginClick();\n    } else {\n      // This should not happen if the prop is properly passed\n      console.error(\"onLoginClick prop not provided to PackagePage\");\n      alert(\"Please log in to join South Coast\");\n    }\n  };\n\n  // Handle My Bookings navigation\n  const handleMyBookings = () => {\n    navigate(\"/mybookings\");\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Check if user is logged in\n    if (!user) {\n      handleLoginPopup();\n      return;\n    }\n\n    if (!validateForm()) return;\n\n    setIsSubmitting(true);\n    setMessage(\"\");\n    setBookingSuccess(false);\n\n    try {\n      if (!user.token) {\n        throw new Error('No authentication token found');\n      }\n\n      // Prepare the data to send to backend - UPDATED with adults and children\n      const bookingPayload = {\n        booking: {\n          nationality: bookingData.nationality,\n          room_type: bookingData.roomType,\n          check_in: bookingData.checkIn,\n          check_out: bookingData.checkOut,\n          adults: parseInt(bookingData.adults, 10),\n          children: parseInt(bookingData.children, 10)\n        }\n      };\n\n      const response = await fetch('http://127.0.0.1:3000/api/v1/bookings', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${user.token}`\n        },\n        body: JSON.stringify(bookingPayload),\n      });\n\n      // First get response as text to check if it's valid JSON\n      const responseText = await response.text();\n      let result;\n\n      try {\n        result = JSON.parse(responseText);\n      } catch (parseError) {\n        console.error(\"JSON Parse Error:\", parseError);\n        console.log(\"Server Response:\", responseText.substring(0, 200));\n        throw new Error(\"Server returned an invalid response. Please check if the backend is running properly.\");\n      }\n\n      if (response.ok) {\n        // ✅ Show success message and reset form\n        setBookingSuccess(true);\n        \n        // Reset form\n        setBookingData({\n          nationality: \"\",\n          roomType: room?.title || \"\",\n          checkIn: getTodayDate(),\n          checkOut: getTomorrowDate(),\n          adults: \"1\",\n          children: \"0\"\n        });\n        setErrors({});\n\n      } else {\n        console.error(\"Booking error:\", result);\n        throw new Error(result.error || result.errors?.join(\", \") || 'Failed to submit booking');\n      }\n    } catch (error) {\n      console.error('Error submitting booking:', error);\n      setMessage(`❌ ${error.message || \"Error submitting booking. Please try again.\"}`);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Helper function for input classes\n  const getInputClass = (field) =>\n    errors[field]\n      ? \"w-full border-2 border-red-400 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors bg-white/90\"\n      : \"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-colors bg-white/90\";\n\n  // If user comes directly without state (refresh or direct URL)\n  if (!room) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center p-8 bg-white rounded-2xl shadow-lg border border-gray-200\">\n          <p className=\"text-gray-700 text-lg mb-4\">Room information not available.</p>\n          <Link \n            to=\"/rooms\" \n            className=\"bg-cyan-600 hover:bg-cyan-700 text-white font-semibold px-6 py-3 rounded-full transition-all duration-300 transform hover:scale-105\"\n          >\n            Return to Rooms\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-gray-50\">\n      {/* Hero Section */}\n      <div\n        className=\"relative h-96 flex items-center justify-center text-white\"\n        style={{\n          backgroundImage: `url(${room.image[0]})`,\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n        }}\n      >\n        <div className=\"absolute inset-0 bg-black/50\" />\n        <div className=\"relative text-center px-4\">\n          <h1 className=\"text-4xl md:text-6xl font-bold mb-4 drop-shadow-lg\">\n            {room.title}\n          </h1>\n          <p className=\"text-xl md:text-2xl text-cyan-200 font-light drop-shadow\">\n            Luxury Accommodation & Unforgettable Experiences\n          </p>\n        </div>\n      </div>\n\n      {/* Status Messages */}\n      <div className=\"max-w-7xl mx-auto px-4 mt-6 space-y-4\">\n        {/* Success Message */}\n        {bookingSuccess && (\n          <div className=\"bg-green-500/90 backdrop-blur-sm border border-green-300 rounded-xl p-4 shadow-lg\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex-shrink-0 w-8 h-8 bg-green-400 rounded-full flex items-center justify-center\">\n                <FontAwesomeIcon icon={faCheckCircle} className=\"text-white text-sm\" />\n              </div>\n              <div>\n                <p className=\"font-semibold text-white\">Booking Confirmed!</p>\n                <p className=\"text-green-100 text-sm\">Your booking has been confirmed and the admin has been notified.</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Login Alert */}\n        {showLoginAlert && (\n          <div className=\"bg-amber-500/90 backdrop-blur-sm border border-amber-300 rounded-xl p-4 shadow-lg\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex-shrink-0 w-8 h-8 bg-amber-400 rounded-full flex items-center justify-center\">\n                <FontAwesomeIcon icon={faUsers} className=\"text-white text-sm\" />\n              </div>\n              <div>\n                <p className=\"font-semibold text-white\">Authentication Required</p>\n                <p className=\"text-amber-100 text-sm\">Please log in to complete your booking.</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Error Summary */}\n        {Object.keys(errors).length > 0 && (\n          <div className=\"bg-red-500/90 backdrop-blur-sm border border-red-300 rounded-xl p-4 shadow-lg\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <div className=\"flex-shrink-0 w-8 h-8 bg-red-400 rounded-full flex items-center justify-center\">\n                <FontAwesomeIcon icon={faCheckCircle} className=\"text-white text-sm\" />\n              </div>\n              <p className=\"font-semibold text-white\">Please correct the following issues:</p>\n            </div>\n            <ul className=\"list-disc list-inside space-y-1\">\n              {Object.values(errors).map((error, index) => (\n                <li key={index} className=\"text-red-100 text-sm\">{error}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n\n      {/* Booking Form Section */}\n      <div className=\"max-w-7xl mx-auto px-4 mt-8\">\n        <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 overflow-hidden\">\n          <div className=\"grid grid-cols-1 md:grid-cols-5 gap-0\">\n            \n            {/* Nationality */}\n            <div className=\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\">\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\n                <FontAwesomeIcon icon={faGlobe} className=\"text-cyan-600 text-sm\" />\n                Guest Nationality\n              </label>\n              <select \n                name=\"nationality\"\n                value={bookingData.nationality}\n                onChange={handleInputChange}\n                className={getInputClass(\"nationality\")}\n                required\n                disabled={isLoadingNationalities}\n              >\n                <option value=\"\">Select Nationality</option>\n                {nationalities.map((nationality) => (\n                  <option key={nationality.id || nationality.name} value={nationality.name}>\n                    {nationality.name}\n                  </option>\n                ))}\n              </select>\n              {errors.nationality && (\n                <p className=\"text-red-500 text-xs mt-2 font-medium\">{errors.nationality}</p>\n              )}\n              {isLoadingNationalities && (\n                <p className=\"text-xs text-gray-500 mt-2\">Loading nationalities...</p>\n              )}\n            </div>\n\n            {/* Room Type */}\n            <div className=\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\">\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\n                <FontAwesomeIcon icon={faBed} className=\"text-cyan-600 text-sm\" />\n                Room Type\n              </label>\n              <input \n                type=\"text\" \n                name=\"roomType\"\n                value={bookingData.roomType}\n                readOnly\n                className=\"w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-100/80 focus:outline-none focus:ring-2 focus:ring-cyan-500 text-gray-700\"\n                required\n              />\n            </div>\n\n            {/* Dates */}\n            <div className=\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\n                    <FontAwesomeIcon icon={faCalendarDay} className=\"text-cyan-600 text-sm\" />\n                    Check-in\n                  </label>\n                  <input \n                    type=\"date\" \n                    name=\"checkIn\"\n                    value={bookingData.checkIn}\n                    onChange={handleInputChange}\n                    min={getTodayDate()}\n                    className={getInputClass(\"checkIn\")}\n                    required\n                  />\n                  {errors.checkIn && (\n                    <p className=\"text-red-500 text-xs mt-2 font-medium\">{errors.checkIn}</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\n                    <FontAwesomeIcon icon={faCalendarCheck} className=\"text-cyan-600 text-sm\" />\n                    Check-out\n                  </label>\n                  <input \n                    type=\"date\" \n                    name=\"checkOut\"\n                    value={bookingData.checkOut}\n                    onChange={handleInputChange}\n                    min={bookingData.checkIn || getTodayDate()}\n                    className={getInputClass(\"checkOut\")}\n                    required\n                  />\n                  {errors.checkOut && (\n                    <p className=\"text-red-500 text-xs mt-2 font-medium\">{errors.checkOut}</p>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Guests */}\n            <div className=\"border-b md:border-b-0 md:border-r border-gray-200/50 p-6\">\n              <label className=\"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2\">\n                <FontAwesomeIcon icon={faUsers} className=\"text-cyan-600 text-sm\" />\n                Guests\n              </label>\n              <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                  <label className=\"block text-xs text-gray-600 mb-1 font-medium\">Adults</label>\n                  <input\n                    type=\"text\"\n                    name=\"adults\"\n                    value={bookingData.adults}\n                    onChange={handleInputChange}\n                    className={getInputClass(\"adults\")}\n                    placeholder=\"0\"\n                    maxLength=\"2\"\n                  />\n                  {errors.adults && (\n                    <p className=\"text-red-500 text-xs mt-2 font-medium\">{errors.adults}</p>\n                  )}\n                </div>\n                <div>\n                  <label className=\"block text-xs text-gray-600 mb-1 font-medium\">Children</label>\n                  <input\n                    type=\"text\"\n                    name=\"children\"\n                    value={bookingData.children}\n                    onChange={handleInputChange}\n                    className={getInputClass(\"children\")}\n                    placeholder=\"0\"\n                    maxLength=\"2\"\n                  />\n                  {errors.children && (\n                    <p className=\"text-red-500 text-xs mt-2 font-medium\">{errors.children}</p>\n                  )}\n                </div>\n              </div>\n              {errors.guests && (\n                <p className=\"text-red-500 text-xs mt-2 font-medium\">{errors.guests}</p>\n              )}\n              {!errors.guests && !errors.adults && !errors.children && (\n                <p className=\"text-gray-600 text-xs mt-2 font-medium\">\n                  Total: {parseInt(bookingData.adults || 0) + parseInt(bookingData.children || 0)} guests\n                </p>\n              )}\n            </div>\n\n            {/* Submit Button */}\n            <div className=\"p-6 flex items-center justify-center\">\n              <button \n                type=\"submit\" \n                onClick={handleSubmit}\n                disabled={isSubmitting || (!user && pendingBooking)}\n                className={`w-full max-w-xs flex items-center justify-center gap-3 px-8 py-4 rounded-xl font-semibold text-white transition-all duration-300 transform hover:scale-105 ${\n                  isSubmitting || (!user && pendingBooking)\n                    ? \"bg-gray-400 cursor-not-allowed\" \n                    : \"bg-cyan-600 hover:bg-cyan-700 shadow-lg hover:shadow-xl\"\n                }`}\n              >\n                {!user ? \"Login to Book\" : \n                 isSubmitting ? \"Processing...\" : \"Book Now\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Message display */}\n      {message && (\n        <div className=\"max-w-7xl mx-auto px-4 mt-6\">\n          <div className={`rounded-xl p-4 shadow-lg ${\n            message.includes(\"❌\") || message.includes(\"Error\") || message.includes(\"Please\") || message.includes(\"cannot\") \n              ? \"bg-red-500/90 text-white\" \n              : \"bg-green-500/90 text-white\"\n          }`}>\n            <div className=\"flex items-center gap-3\">\n              <FontAwesomeIcon \n                icon={faCheckCircle} \n                className={`text-sm ${message.includes(\"❌\") ? \"text-red-100\" : \"text-green-100\"}`}\n              />\n              <span>{message}</span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Room Details Section */}\n      <div className=\"max-w-7xl mx-auto px-4 py-16\">\n        <div className=\"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center\">\n            <div className=\"p-8\">\n              <img\n                src={room.image[1]}\n                alt={room.title}\n                className=\"rounded-2xl w-full h-80 object-cover shadow-lg\"\n              />\n            </div>\n\n            <div className=\"p-8\">\n              <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">{room.title}</h2>\n              <p className=\"text-gray-700 mb-6 leading-relaxed\">\n                Enjoy our luxurious {room.title} with modern amenities, elegant interiors,\n                and a peaceful environment perfect for both business and leisure stays.\n              </p>\n              <p className=\"text-2xl font-bold text-cyan-600 mb-8\">\n                {room.price} / night\n              </p>\n              <button \n                onClick={() => !user ? handleLoginPopup() : handleSubmit({ preventDefault: () => {} })}\n                className={`px-8 py-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 ${\n                  user \n                    ? \"bg-cyan-600 hover:bg-cyan-700 text-white shadow-lg hover:shadow-xl\" \n                    : \"bg-cyan-600 hover:bg-cyan-700 text-white shadow-lg hover:shadow-xl\"\n                }`}\n              >\n                {user ? \"Book This Room\" : \"Login to Book\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 🧳 Packages Section */}\n      <div className=\"px-4 py-16 bg-gray-100/50\">\n        <Package />\n      </div>\n\n      {/* CTA Section */}\n      <div className=\"bg-gradient-to-r from-cyan-600 to-cyan-700 py-16\">\n        <div className=\"max-w-7xl mx-auto px-4\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\n            {/* Left Section - Join Us */}\n            <div className=\"text-white\">\n              <h2 className=\"text-4xl font-bold mb-6\">\n                Join the South Coast Experience\n              </h2>\n              <p className=\"text-cyan-100 leading-relaxed mb-6\">\n                Discover the beauty of Kenya's coastline like never before. At SouthCoast Outdoors,\n                we make it easy for you to plan and enjoy unforgettable getaways filled with sun,\n                sea, and adventure. From exclusive travel deals to inspiring destination highlights,\n                we'll deliver the best offers straight to your inbox.\n              </p>\n              <p className=\"text-cyan-100 leading-relaxed mb-8\">\n                Whether it's flights, airport transfers, or exciting activities, we handle the\n                details so you can focus on making lasting memories.\n              </p>\n              {user ? (\n                <button \n                  onClick={handleMyBookings}\n                  className=\"bg-green-500 hover:bg-green-600 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n                >\n                  My Account\n                </button>\n              ) : (\n                <button \n                  onClick={handleJoinUsClick}\n                  className=\"bg-green-500 hover:bg-green-600 text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105\"\n                >\n                  Join Us Today\n                </button>\n              )}\n            </div>\n\n            {/* Right Section - Why South Coast */}\n            <div className=\"bg-white/20 backdrop-blur-sm rounded-2xl p-8 border border-white/40\">\n              <h3 className=\"text-2xl font-bold text-white mb-6\">Why SouthCoast Outdoors?</h3>\n              <ul className=\"space-y-4 text-white\">\n                <li className=\"flex items-center gap-3\">\n                  <FontAwesomeIcon icon={faCheckCircle} className=\"text-green-400\" />\n                  <span>Tailor-made holiday experiences</span>\n                </li>\n                <li className=\"flex items-center gap-3\">\n                  <FontAwesomeIcon icon={faCheckCircle} className=\"text-green-400\" />\n                  <span>Trusted support from start to finish</span>\n                </li>\n                <li className=\"flex items-center gap-3\">\n                  <FontAwesomeIcon icon={faCheckCircle} className=\"text-green-400\" />\n                  <span>Exceptional value for your money</span>\n                </li>\n                <li className=\"flex items-center gap-3\">\n                  <FontAwesomeIcon icon={faCheckCircle} className=\"text-green-400\" />\n                  <span>Flexible travel options</span>\n                </li>\n                <li className=\"flex items-center gap-3\">\n                  <FontAwesomeIcon icon={faCheckCircle} className=\"text-green-400\" />\n                  <span>Exclusive deals and offers</span>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}