{"ast":null,"code":"import\"./Footer.css\";import React,{useState}from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTimes,faPaperPlane,faEnvelope,faComment}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function InstantMessage(_ref){let{onClose}=_ref;const[email,setEmail]=useState(\"\");const[message,setMessage]=useState(\"\");const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();// ✅ Basic email syntax check before sending to backend\nconst emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!emailRegex.test(email)){alert(\"❌ Please enter a valid email address.\");return;}setLoading(true);try{const response=await fetch(\"http://127.0.0.1:3000/api/v1/contact_messages\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({contact_message:{email,message}})});const text=await response.text();let data={};try{data=JSON.parse(text);}catch(_unused){console.warn(\"Response is not JSON:\",text);}if(response.ok){alert(\"✅ Message sent successfully!\");setEmail(\"\");setMessage(\"\");onClose();}else{var _data$errors;alert(\"\\u274C \".concat(((_data$errors=data.errors)===null||_data$errors===void 0?void 0:_data$errors.join(\", \"))||\"Please enter a real, deliverable email.\"));}}catch(error){console.error(\"Error sending message:\",error);alert(\"⚠️ Could not send message. Please try again later.\");}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed bottom-6 right-6 bg-white rounded-2xl shadow-2xl border border-gray-200 w-96 z-50 overflow-hidden animate-slide-up\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-cyan-600 to-cyan-700 p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faComment,className:\"text-white text-lg\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"Contact Support\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-cyan-100 text-sm\",children:\"We're here to help!\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes,className:\"text-white text-sm\"})})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 text-sm font-semibold text-gray-700\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEnvelope,className:\"text-cyan-600 text-sm\"}),\"Email Address\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"your.email@example.com\",value:email,onChange:e=>setEmail(e.target.value),required:true,className:\"w-full border border-gray-300 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white\",disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 text-sm font-semibold text-gray-700\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faComment,className:\"text-cyan-600 text-sm\"}),\"Your Message\"]}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Tell us how we can help you today...\",value:message,onChange:e=>setMessage(e.target.value),required:true,rows:\"4\",className:\"w-full border border-gray-300 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-300 resize-none bg-gray-50 hover:bg-white\",disabled:loading})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full py-4 rounded-xl font-semibold text-white transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3 \".concat(loading?\"bg-gray-400 cursor-not-allowed\":\"bg-gradient-to-r from-cyan-500 to-cyan-600 hover:from-cyan-600 hover:to-cyan-700 shadow-lg hover:shadow-xl\"),children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sending Message...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPaperPlane,className:\"text-white\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Send Message\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"We typically respond within \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-cyan-600\",children:\"2 minutes\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-1 bg-gradient-to-r from-cyan-500 to-cyan-600\"})]});}","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faTimes","faPaperPlane","faEnvelope","faComment","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InstantMessage","_ref","onClose","email","setEmail","message","setMessage","loading","setLoading","handleSubmit","e","preventDefault","emailRegex","test","alert","response","fetch","method","headers","body","JSON","stringify","contact_message","text","data","parse","_unused","console","warn","ok","_data$errors","concat","errors","join","error","className","children","icon","onClick","onSubmit","type","placeholder","value","onChange","target","required","disabled","rows"],"sources":["/root/southcoastwebmain/src/Components/InstantMessage.js"],"sourcesContent":["import \"./Footer.css\";\nimport React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes, faPaperPlane, faEnvelope, faComment } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function InstantMessage({ onClose }) {\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // ✅ Basic email syntax check before sending to backend\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      alert(\"❌ Please enter a valid email address.\");\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:3000/api/v1/contact_messages\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          contact_message: { email, message },\n        }),\n      });\n\n      const text = await response.text();\n      let data = {};\n      try {\n        data = JSON.parse(text);\n      } catch {\n        console.warn(\"Response is not JSON:\", text);\n      }\n\n      if (response.ok) {\n        alert(\"✅ Message sent successfully!\");\n        setEmail(\"\");\n        setMessage(\"\");\n        onClose();\n      } else {\n        alert(`❌ ${data.errors?.join(\", \") || \"Please enter a real, deliverable email.\"}`);\n      }\n    } catch (error) {\n      console.error(\"Error sending message:\", error);\n      alert(\"⚠️ Could not send message. Please try again later.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed bottom-6 right-6 bg-white rounded-2xl shadow-2xl border border-gray-200 w-96 z-50 overflow-hidden animate-slide-up\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-cyan-600 to-cyan-700 p-6 text-white\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center\">\n              <FontAwesomeIcon icon={faComment} className=\"text-white text-lg\" />\n            </div>\n            <div>\n              <h2 className=\"text-xl font-bold\">Contact Support</h2>\n              <p className=\"text-cyan-100 text-sm\">We're here to help!</p>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110\"\n          >\n            <FontAwesomeIcon icon={faTimes} className=\"text-white text-sm\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Form */}\n      <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n        {/* Email Input */}\n        <div className=\"space-y-2\">\n          <label className=\"flex items-center gap-2 text-sm font-semibold text-gray-700\">\n            <FontAwesomeIcon icon={faEnvelope} className=\"text-cyan-600 text-sm\" />\n            Email Address\n          </label>\n          <input\n            type=\"email\"\n            placeholder=\"your.email@example.com\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            className=\"w-full border border-gray-300 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white\"\n            disabled={loading}\n          />\n        </div>\n\n        {/* Message Input */}\n        <div className=\"space-y-2\">\n          <label className=\"flex items-center gap-2 text-sm font-semibold text-gray-700\">\n            <FontAwesomeIcon icon={faComment} className=\"text-cyan-600 text-sm\" />\n            Your Message\n          </label>\n          <textarea\n            placeholder=\"Tell us how we can help you today...\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            required\n            rows=\"4\"\n            className=\"w-full border border-gray-300 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-300 resize-none bg-gray-50 hover:bg-white\"\n            disabled={loading}\n          ></textarea>\n        </div>\n\n        {/* Submit Button */}\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className={`w-full py-4 rounded-xl font-semibold text-white transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3 ${\n            loading\n              ? \"bg-gray-400 cursor-not-allowed\"\n              : \"bg-gradient-to-r from-cyan-500 to-cyan-600 hover:from-cyan-600 hover:to-cyan-700 shadow-lg hover:shadow-xl\"\n          }`}\n        >\n          {loading ? (\n            <>\n              <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\n              <span>Sending Message...</span>\n            </>\n          ) : (\n            <>\n              <FontAwesomeIcon icon={faPaperPlane} className=\"text-white\" />\n              <span>Send Message</span>\n            </>\n          )}\n        </button>\n\n        {/* Help Text */}\n        <div className=\"text-center\">\n          <p className=\"text-xs text-gray-500\">\n            We typically respond within <span className=\"font-semibold text-cyan-600\">2 minutes</span>\n          </p>\n        </div>\n      </form>\n\n      {/* Decorative Footer */}\n      <div className=\"h-1 bg-gradient-to-r from-cyan-500 to-cyan-600\"></div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}